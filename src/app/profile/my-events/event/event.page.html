<ion-header *ngIf="isDataAvailable">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        text="Mes événements"
        icon="arrow-back-outline"
        defaultHref="tabs"
      >
      </ion-back-button>
    </ion-buttons>
    <!-- <ion-title>Détail évenement</ion-title> -->
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="isDataAvailable">
  <ion-fab slot="fixed" horizontal="end" vertical="bottom">
    <ion-fab-button (click)="openEditModal()">
      <ion-icon name="pencil"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col
        style="
          height: 141px;
          overflow: hidden;
          box-shadow: inset 0px -24px 31px -17px rgba(0, 0, 0, 0.25);
        "
      >
        <ion-img class="event-banner" [src]="loadedEvent.imageUrl"></ion-img>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-segment value="event" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="event">
          <ion-icon name="calendar"></ion-icon>
          <ion-label>Event</ion-label>
        </ion-segment-button>
        <ion-segment-button value="conf">
          <ion-icon name="headset"></ion-icon>
          <ion-label>Conférences</ion-label>
        </ion-segment-button>
        <ion-segment-button value="stat">
          <ion-icon name="stats-chart"></ion-icon>
          <ion-label>Statistiques</ion-label>
        </ion-segment-button>
      </ion-segment>
    </ion-row>

    <!-- event segment -->
    <ion-row *ngIf="selectedSegment == 'event'">
      <ion-col>
        <ion-text color="dark" class="ion-text-center">
          <h2>{{loadedEvent.title}}</h2>
        </ion-text>

        <ion-item lines="none" class="event-detail-item">
          <ion-icon
            name="calendar"
            slot="start"
            class="event-detail-icon"
            color="primary"
          ></ion-icon>

          <ion-label>
            <h3>
              {{loadedEvent.availableFrom.toDate() | date: 'dd/MM/YY' }} -
              {{loadedEvent.availableTo.toDate() | date: 'dd/MM/YY' }}
            </h3>
          </ion-label>
        </ion-item>

        <ion-item lines="none" class="event-detail-item">
          <ion-icon
            name="location"
            slot="start"
            class="event-detail-icon"
            color="primary"
          ></ion-icon>

          <ion-label class="event-detail-label">
            <h3>{{loadedEvent.location}}</h3>
          </ion-label>
        </ion-item>
        <ion-text color="dark" class="ion-text-start event-detail-description">
          <h3>Description</h3>
          <p style="text-align: justify; margin-bottom: 0px">
            {{loadedEvent.description}}
          </p>
        </ion-text>
      </ion-col>
    </ion-row>
    <!-- conférence segment -->

    <ion-row
      *ngIf="selectedSegment == 'conf'"
      class="ion-justify-content-center"
    >
      <ion-col>
        <ion-list>
          <ion-item *ngFor="let conf of loadedEvent.conferences ">
            <ion-label>
              <h2>{{conf.title}}</h2>
              <p>{{conf.description}}</p>
              <p>
                {{conf.availableFrom.toDate() | date: 'HH:mm' }} -
                {{conf.availableTo.toDate() | date: 'HH:mm' }}
              </p>
            </ion-label>
            <ion-icon
              slot="end"
              name="information-circle-outline"
              [routerLink]="['./', conf.id]"
            ></ion-icon>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>

    <!-- statistique segment -->
  </ion-grid>
</ion-content>
